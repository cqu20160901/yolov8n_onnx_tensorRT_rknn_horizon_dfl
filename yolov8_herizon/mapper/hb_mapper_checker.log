2024-01-11 10:21:06,600 file: hb_mapper.py func: hb_mapper line No: 70 Start hb_mapper....
2024-01-11 10:21:06,600 file: hb_mapper.py func: hb_mapper line No: 71 log will be stored in /convert_model/horizon_model_convert_sample/04_detection/03_yolov8_NoDFL/mapper/hb_mapper_checker.log
2024-01-11 10:21:06,600 file: hb_mapper.py func: hb_mapper line No: 72 hbdk version 3.27.4
2024-01-11 10:21:06,601 file: hb_mapper.py func: hb_mapper line No: 73 horizon_nn version 0.13.3
2024-01-11 10:21:06,601 file: hb_mapper.py func: hb_mapper line No: 74 hb_mapper version 1.6.8a
2024-01-11 10:21:06,601 file: hb_mapper.py func: hb_mapper line No: 76 parameter [output] is deprecated
2024-01-11 10:21:06,611 file: helper.py func: helper line No: 124 Model input names: ['data']
2024-01-11 10:21:06,611 file: hb_mapper_checker.py func: hb_mapper_checker line No: 104 Model type: onnx
2024-01-11 10:21:06,611 file: hb_mapper_checker.py func: hb_mapper_checker line No: 105 march: bernoulli2
2024-01-11 10:21:06,611 file: hb_mapper_checker.py func: hb_mapper_checker line No: 110 input names []
2024-01-11 10:21:06,612 file: hb_mapper_checker.py func: hb_mapper_checker line No: 111 input shapes {}
2024-01-11 10:21:06,612 file: hb_mapper_checker.py func: hb_mapper_checker line No: 117 Begin model checking....
2024-01-11 10:21:06,612 file: build.py func: build line No: 36 [Thu Jan 11 10:21:06 2024] Start to Horizon NN Model Convert.
2024-01-11 10:21:06,613 file: dict_parser.py func: dict_parser line No: 28 The input parameter is not specified, convert with default parameters.
2024-01-11 10:21:06,613 file: dict_parser.py func: dict_parser line No: 513 The hbdk parameter is not specified, and the submodel will be compiled with the default parameter.
2024-01-11 10:21:06,613 file: build.py func: build line No: 143 HorizonNN version: 0.13.3
2024-01-11 10:21:06,613 file: build.py func: build line No: 147 HBDK version: 3.27.4
2024-01-11 10:21:06,613 file: build.py func: build line No: 36 [Thu Jan 11 10:21:06 2024] Start to parse the onnx model.
2024-01-11 10:21:06,656 file: onnx_parser.py func: onnx_parser line No: 146 ONNX model info:
ONNX IR version:  6
Opset version:    11
Input name:       data, [1, 3, 640, 640]
2024-01-11 10:21:06,701 file: build.py func: build line No: 39 [Thu Jan 11 10:21:06 2024] End to parse the onnx model.
2024-01-11 10:21:06,701 file: build.py func: build line No: 266 Model input names: ['data']
2024-01-11 10:21:06,719 file: build.py func: build line No: 537 Saving the original float model: ./.hb_check/original_float_model.onnx.
2024-01-11 10:21:06,720 file: build.py func: build line No: 36 [Thu Jan 11 10:21:06 2024] Start to optimize the model.
2024-01-11 10:21:06,900 file: build.py func: build line No: 39 [Thu Jan 11 10:21:06 2024] End to optimize the model.
2024-01-11 10:21:06,917 file: build.py func: build line No: 548 Saving the optimized model: ./.hb_check/optimized_float_model.onnx.
2024-01-11 10:21:06,918 file: build.py func: build line No: 36 [Thu Jan 11 10:21:06 2024] Start to calibrate the model.
2024-01-11 10:21:07,001 file: calibration_data_set.py func: calibration_data_set line No: 67 There are 1 samples in the calibration data set.
2024-01-11 10:21:07,003 file: max_calibrater.py func: max_calibrater line No: 68 Run calibration model with max method.
2024-01-11 10:21:07,269 file: build.py func: build line No: 39 [Thu Jan 11 10:21:07 2024] End to calibrate the model.
2024-01-11 10:21:07,270 file: build.py func: build line No: 36 [Thu Jan 11 10:21:07 2024] Start to quantize the model.
2024-01-11 10:21:07,786 file: build.py func: build line No: 39 [Thu Jan 11 10:21:07 2024] End to quantize the model.
2024-01-11 10:21:07,891 file: build.py func: build line No: 562 Saving the quantized model: ./.hb_check/quantized_model.onnx.
2024-01-11 10:21:07,891 file: build.py func: build line No: 36 [Thu Jan 11 10:21:07 2024] Start to compile the model with march bernoulli2.
2024-01-11 10:21:07,891 file: dict_parser.py func: dict_parser line No: 518 Parsing the hbdk parameter:{'hbdk_pass_through_params': '--O0'}
2024-01-11 10:21:08,024 file: hybrid_build.py func: hybrid_build line No: 123 Compile submodel: torch-jit-export_subgraph_0
2024-01-11 10:21:08,215 file: hbdk_cc.py func: hbdk_cc line No: 119 hbdk-cc parameters:['--O0', '--input-layout', 'NHWC', '--output-layout', 'NCHW']
2024-01-11 10:21:08,710 file: build.py func: build line No: 39 [Thu Jan 11 10:21:08 2024] End to compile the model with march bernoulli2.
2024-01-11 10:21:08,712 file: node_info.py func: node_info line No: 54 The converted model node information:
============================================================================================
Node                                               ON   Subgraph  Type                       
---------------------------------------------------------------------------------------------
Conv_0                                             BPU  id(0)     HzSQuantizedConv           
Conv_2                                             BPU  id(0)     HzSQuantizedConv           
Conv_4                                             BPU  id(0)     HzSQuantizedConv           
Split_6                                            BPU  id(0)     Split                      
Conv_7                                             BPU  id(0)     HzSQuantizedConv           
Conv_9                                             BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_11                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_365_0.065100304782391_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_366_0.065100304782391_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_12                                          BPU  id(0)     Concat                     
Conv_13                                            BPU  id(0)     HzSQuantizedConv           
Conv_15                                            BPU  id(0)     HzSQuantizedConv           
Conv_17                                            BPU  id(0)     HzSQuantizedConv           
Split_19                                           BPU  id(0)     Split                      
Conv_20                                            BPU  id(0)     HzSQuantizedConv           
Conv_22                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_24                               BPU  id(0)     HzSQuantizedConv           
Conv_25                                            BPU  id(0)     HzSQuantizedConv           
Conv_27                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_29                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_384_0.038103923201561_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_385_0.038103923201561_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_392_0.038103923201561_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_30                                          BPU  id(0)     Concat                     
Conv_31                                            BPU  id(0)     HzSQuantizedConv           
Conv_33                                            BPU  id(0)     HzSQuantizedConv           
Conv_35                                            BPU  id(0)     HzSQuantizedConv           
Split_37                                           BPU  id(0)     Split                      
Conv_38                                            BPU  id(0)     HzSQuantizedConv           
Conv_40                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_42                               BPU  id(0)     HzSQuantizedConv           
Conv_43                                            BPU  id(0)     HzSQuantizedConv           
Conv_45                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_47                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_410_0.053578991442919_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_411_0.053578991442919_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_418_0.053578991442919_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_48                                          BPU  id(0)     Concat                     
Conv_49                                            BPU  id(0)     HzSQuantizedConv           
Conv_51                                            BPU  id(0)     HzSQuantizedConv           
Conv_53                                            BPU  id(0)     HzSQuantizedConv           
Split_55                                           BPU  id(0)     Split                      
Conv_56                                            BPU  id(0)     HzSQuantizedConv           
Conv_58                                            BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_Add_60                               BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_436_0.052549000829458_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_437_0.052549000829458_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_61                                          BPU  id(0)     Concat                     
Conv_62                                            BPU  id(0)     HzSQuantizedConv           
Conv_64                                            BPU  id(0)     HzSQuantizedConv           
MaxPool_66                                         BPU  id(0)     HzQuantizedMaxPool         
MaxPool_67                                         BPU  id(0)     HzQuantizedMaxPool         
MaxPool_68                                         BPU  id(0)     HzQuantizedMaxPool         
Concat_69                                          BPU  id(0)     Concat                     
Conv_70                                            BPU  id(0)     HzSQuantizedConv           
Resize_73                                          BPU  id(0)     HzQuantizedResizeUpsample  
Concat_74                                          BPU  id(0)     Concat                     
Conv_75                                            BPU  id(0)     HzSQuantizedConv           
Split_77                                           BPU  id(0)     Split                      
Conv_78                                            BPU  id(0)     HzSQuantizedConv           
Conv_80                                            BPU  id(0)     HzSQuantizedConv           
Concat_82                                          BPU  id(0)     Concat                     
Conv_83                                            BPU  id(0)     HzSQuantizedConv           
Resize_86                                          BPU  id(0)     HzQuantizedResizeUpsample  
UNIT_CONV_FOR_403_0.031705468893051_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_87                                          BPU  id(0)     Concat                     
Conv_88                                            BPU  id(0)     HzSQuantizedConv           
Split_90                                           BPU  id(0)     Split                      
Conv_91                                            BPU  id(0)     HzSQuantizedConv           
Conv_93                                            BPU  id(0)     HzSQuantizedConv           
Concat_95                                          BPU  id(0)     Concat                     
Conv_96                                            BPU  id(0)     HzSQuantizedConv           
Conv_98                                            BPU  id(0)     HzSQuantizedConv           
Concat_100                                         BPU  id(0)     Concat                     
Conv_101                                           BPU  id(0)     HzSQuantizedConv           
Split_103                                          BPU  id(0)     Split                      
Conv_104                                           BPU  id(0)     HzSQuantizedConv           
Conv_106                                           BPU  id(0)     HzSQuantizedConv           
Concat_108                                         BPU  id(0)     Concat                     
Conv_109                                           BPU  id(0)     HzSQuantizedConv           
Conv_111                                           BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_458_0.032748799771070_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_113                                         BPU  id(0)     Concat                     
Conv_114                                           BPU  id(0)     HzSQuantizedConv           
Split_116                                          BPU  id(0)     Split                      
Conv_117                                           BPU  id(0)     HzSQuantizedConv           
Conv_119                                           BPU  id(0)     HzSQuantizedConv           
Concat_121                                         BPU  id(0)     Concat                     
Conv_122                                           BPU  id(0)     HzSQuantizedConv           
Conv_124                                           BPU  id(0)     HzSQuantizedConv           
Conv_126                                           BPU  id(0)     HzSQuantizedConv           
Conv_128                                           BPU  id(0)     HzSQuantizedConv           
Conv_129                                           BPU  id(0)     HzSQuantizedConv           
Conv_131                                           BPU  id(0)     HzSQuantizedConv           
Conv_133                                           BPU  id(0)     HzSQuantizedConv           
Conv_134                                           BPU  id(0)     HzSQuantizedConv           
Conv_136                                           BPU  id(0)     HzSQuantizedConv           
Conv_138                                           BPU  id(0)     HzSQuantizedConv           
Conv_139                                           BPU  id(0)     HzSQuantizedConv           
Conv_141                                           BPU  id(0)     HzSQuantizedConv           
Conv_143                                           BPU  id(0)     HzSQuantizedConv           
Conv_144                                           BPU  id(0)     HzSQuantizedConv           
Conv_146                                           BPU  id(0)     HzSQuantizedConv           
Conv_148                                           BPU  id(0)     HzSQuantizedConv           
Conv_149                                           BPU  id(0)     HzSQuantizedConv           
Conv_151                                           BPU  id(0)     HzSQuantizedConv           
Conv_153                                           BPU  id(0)     HzSQuantizedConv
2024-01-11 10:21:08,712 file: build.py func: build line No: 39 [Thu Jan 11 10:21:08 2024] End to Horizon NN Model Convert.
2024-01-11 10:21:08,716 file: onnx2horizonrt.py func: onnx2horizonrt line No: 2841 ONNX model output num : 6
2024-01-11 10:21:08,723 file: hb_mapper_checker.py func: hb_mapper_checker line No: 141 End model checking....
